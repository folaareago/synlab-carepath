{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/Synlab-pathcare/synlabreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Desktop/Synlab-pathcare/synlabreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Desktop/Synlab-pathcare/synlabreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./home.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputForm=_useState4[0],setInputForm=_useState4[1];var linkGen=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var pdfName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:pdfName=localStorage.getItem('synlab-name');setInputValue(\"https://rv.synlab-pathcare.com/verify/\".concat(pdfName));localStorage.removeItem('synlab-name');case 3:case\"end\":return _context.stop();}}},_callee);}));return function linkGen(){return _ref.apply(this,arguments);};}();var upload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var formData,headers;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();formData=new FormData();//formdata object\nformData.append('pdf',inputForm);//append the values with key, value pair\nheaders={'content-type':'multipart/form-data','withCredentials':true};axios.post(\"https://synlab-carepath.herokuapp.com/upload\",formData,{headers:headers}).then(function(response){if(response.status===200){localStorage.setItem('synlab-name',response.data.name);alert('Uploaded Succesfully');}else{console.log(\"Unable to upload file.\");}}).catch(function(error){return console.error(error.message);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function upload(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center pt-5 pb-5\",children:/*#__PURE__*/_jsx(\"h1\",{children:\" UPLOAD SECTION\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){upload(e);},id:\"formElem\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"myFile\",onChange:function onChange(e){setInputForm(e.target.files[0]);},className:\"uploadform\",name:\"pdf\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pad-top\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn-edit\",id:\"btnEdit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:linkGen,className:\"btn-edit\",id:\"btnGen\",children:\" Generate Link \"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,className:\"form-edii\",disabled:true,id:\"genLinkUrl\"})]})]})});}export default Home;","map":{"version":3,"sources":["/Users/mac/Desktop/Synlab-pathcare/synlabreact/src/component/Home.js"],"names":["React","useState","axios","Home","inputValue","setInputValue","inputForm","setInputForm","linkGen","pdfName","localStorage","getItem","removeItem","upload","e","preventDefault","formData","FormData","append","headers","post","then","response","status","setItem","data","name","alert","console","log","catch","error","message","target","files"],"mappings":"gYAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,CACZ,cAAoCF,QAAQ,CAAC,EAAD,CAA5C,wCAAOG,UAAP,eAAmBC,aAAnB,eACA,eAAkCJ,QAAQ,CAAC,EAAD,CAA1C,yCAAOK,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,OAAO,0FAAG,+IACRC,OADQ,CACEC,YAAY,CAACC,OAAb,CAAqB,aAArB,CADF,CAEZN,aAAa,iDAA0CI,OAA1C,EAAb,CACAC,YAAY,CAACE,UAAb,CAAwB,aAAxB,EAHY,sDAAH,kBAAPJ,CAAAA,OAAO,0CAAb,CAKA,GAAMK,CAAAA,MAAM,2FAAG,kBAAOC,CAAP,2IACXA,CAAC,CAACC,cAAF,GACIC,QAFO,CAEI,GAAIC,CAAAA,QAAJ,EAFJ,CAEuB;AAClCD,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAuBZ,SAAvB,EAAqC;AAC/Ba,OAJK,CAIK,CAAE,eAAgB,qBAAlB,CAAyC,kBAAmB,IAA5D,CAJL,CAKXjB,KAAK,CACFkB,IADH,CACQ,8CADR,CACwDJ,QADxD,CACkE,CAAEG,OAAO,CAAEA,OAAX,CADlE,EAEGE,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3Bb,YAAY,CAACc,OAAb,CAAqB,aAArB,CAAoCF,QAAQ,CAACG,IAAT,CAAcC,IAAlD,EACAC,KAAK,CAAC,sBAAD,CAAL,CACD,CAHD,IAGO,CACLC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACD,CACF,CATH,EAUGC,KAVH,CAUS,SAACC,KAAD,QAAWH,CAAAA,OAAO,CAACG,KAAR,CAAcA,KAAK,CAACC,OAApB,CAAX,EAVT,EALW,wDAAH,kBAANnB,CAAAA,MAAM,6CAAZ,CAiBA,mBACK,kCACI,aAAK,SAAS,CAAC,WAAf,wBACA,YAAK,SAAS,CAAC,uBAAf,uBACW,uCADX,EADA,cAIO,cAAM,QAAQ,CAAE,kBAACC,CAAD,CAAK,CAACD,MAAM,CAACC,CAAD,CAAN,CAAU,CAAhC,CAAkC,EAAE,CAAC,UAArC,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAAgC,QAAQ,CAAE,kBAAAA,CAAC,CAAE,CAACP,YAAY,CAACO,CAAC,CAACmB,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAZ,CAAiC,CAA/E,CAAiF,SAAS,CAAC,YAA3F,CAAwG,IAAI,CAAC,KAA7G,EADJ,cAEI,aAAK,SAAS,CAAC,SAAf,wBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,UAA/B,CAA0C,EAAE,CAAC,SAA7C,EADJ,cAEI,eAAQ,IAAI,CAAE,QAAd,CAAuB,OAAO,CAAE1B,OAAhC,CAAyC,SAAS,CAAC,UAAnD,CAA8D,EAAE,CAAC,QAAjE,6BAFJ,GAFJ,cAOI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEJ,UAA1B,CAAsC,SAAS,CAAC,WAAhD,CAA4D,QAAQ,KAApE,CAAqE,EAAE,CAAC,YAAxE,EAPJ,GAJP,GADJ,EADL,CAmBH,CAED,cAAeD,CAAAA,IAAf","sourcesContent":["import React, {useState} from 'react';\nimport './home.css';\nimport axios from 'axios';\n\nfunction Home() {\n    const [inputValue, setInputValue] = useState('') \n    const [inputForm, setInputForm] = useState('') \n    \n    const linkGen = async () => {\n        let pdfName = localStorage.getItem('synlab-name');\n        setInputValue(`https://rv.synlab-pathcare.com/verify/${pdfName}`)\n        localStorage.removeItem('synlab-name')\n    }\n    const upload = async (e) => {\n        e.preventDefault();\n        let formData = new FormData();    //formdata object\n        formData.append('pdf', inputForm);   //append the values with key, value pair\n        const headers = { 'content-type': 'multipart/form-data', 'withCredentials': true, }\n        axios\n          .post(\"https://synlab-carepath.herokuapp.com/upload\", formData, { headers: headers})\n          .then((response) => { \n            if (response.status === 200) {\n              localStorage.setItem('synlab-name', response.data.name);\n              alert('Uploaded Succesfully')\n            } else {\n              console.log(\"Unable to upload file.\");\n            }\n          })\n          .catch((error) => console.error(error.message));\n      };\n    return (\n         <div>\n             <div className=\"container\">\n             <div className=\"text-center pt-5 pb-5\"> \n                        <h1> UPLOAD SECTION</h1>\n                    </div>\n                    <form onSubmit={(e)=>{upload(e)}} id=\"formElem\">   \n                        <input type=\"file\" id=\"myFile\"  onChange={e=>{setInputForm(e.target.files[0]);}} className=\"uploadform\" name=\"pdf\" /> \n                        <div className=\"pad-top\">  \n                            <input type=\"submit\" className=\"btn-edit\" id=\"btnEdit\" />\n                            <button type= \"button\" onClick={linkGen} className=\"btn-edit\" id=\"btnGen\"> Generate Link </button>\n                        </div>\n                        \n                        <input type=\"text\" value={inputValue} className=\"form-edii\" disabled id=\"genLinkUrl\" />\n                    </form>\n             </div>\n         </div> \n        \n    )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}