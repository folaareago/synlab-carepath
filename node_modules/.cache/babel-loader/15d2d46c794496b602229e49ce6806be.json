{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/Synlab-pathcare/synlabreact/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Desktop/Synlab-pathcare/synlabreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Desktop/Synlab-pathcare/synlabreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./home.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputForm=_useState4[0],setInputForm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setLoading=_useState6[1];var linkGen=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var pdfName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:pdfName=localStorage.getItem('synlab-name');setInputValue(\"https://rv.synlab-pathcare.com/verify/\".concat(pdfName));localStorage.removeItem('synlab-name');case 3:case\"end\":return _context.stop();}}},_callee);}));return function linkGen(){return _ref.apply(this,arguments);};}();var upload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var formData,headers;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);e.preventDefault();formData=new FormData();//formdata object\nformData.append('pdf',inputForm);//append the values with key, value pair\nheaders={'content-type':'multipart/form-data','withCredentials':true};axios.post(\"https://synlab-carepath.herokuapp.com/upload\",formData,{headers:headers}).then(function(response){setLoading(false);if(response.status===200){localStorage.setItem('synlab-name',response.data.name);alert('Uploaded Succesfully');}else{console.log(\"Unable to upload file.\");}}).catch(function(error){return console.error(error.message);});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function upload(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center pt-5 pb-5\",children:/*#__PURE__*/_jsx(\"h1\",{children:\" UPLOAD SECTION\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){upload(e);},id:\"formElem\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"myFile\",onChange:function onChange(e){setInputForm(e.target.files[0]);},className:\"uploadform\",name:\"pdf\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pad-top\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-edit\",id:\"btnEdit\",children:[\"  \",isLoading?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-circle-notch fa-spin\"}):'',\"  Submit \"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:linkGen,className:\"btn-edit\",id:\"btnGen\",children:\" Generate Link \"})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,className:\"form-edii\",disabled:true,id:\"genLinkUrl\"})]})]})});}export default Home;","map":{"version":3,"sources":["/Users/mac/Desktop/Synlab-pathcare/synlabreact/src/component/Home.js"],"names":["React","useState","axios","Home","inputValue","setInputValue","inputForm","setInputForm","isLoading","setLoading","linkGen","pdfName","localStorage","getItem","removeItem","upload","e","preventDefault","formData","FormData","append","headers","post","then","response","status","setItem","data","name","alert","console","log","catch","error","message","target","files"],"mappings":"gYAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,CACZ,cAAoCF,QAAQ,CAAC,EAAD,CAA5C,wCAAOG,UAAP,eAAmBC,aAAnB,eACA,eAAkCJ,QAAQ,CAAC,EAAD,CAA1C,yCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAAgCN,QAAQ,CAAC,KAAD,CAAxC,yCAAOO,SAAP,eAAkBC,UAAlB,eAGA,GAAMC,CAAAA,OAAO,0FAAG,+IACRC,OADQ,CACEC,YAAY,CAACC,OAAb,CAAqB,aAArB,CADF,CAEZR,aAAa,iDAA0CM,OAA1C,EAAb,CACAC,YAAY,CAACE,UAAb,CAAwB,aAAxB,EAHY,sDAAH,kBAAPJ,CAAAA,OAAO,0CAAb,CAKA,GAAMK,CAAAA,MAAM,2FAAG,kBAAOC,CAAP,2IACZP,UAAU,CAAC,IAAD,CAAV,CACCO,CAAC,CAACC,cAAF,GACIC,QAHO,CAGI,GAAIC,CAAAA,QAAJ,EAHJ,CAGuB;AAClCD,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAuBd,SAAvB,EAAqC;AAC/Be,OALK,CAKK,CAAE,eAAgB,qBAAlB,CAAyC,kBAAmB,IAA5D,CALL,CAMXnB,KAAK,CACFoB,IADH,CACQ,8CADR,CACwDJ,QADxD,CACkE,CAAEG,OAAO,CAAEA,OAAX,CADlE,EAEGE,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBf,UAAU,CAAC,KAAD,CAAV,CACA,GAAIe,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3Bb,YAAY,CAACc,OAAb,CAAqB,aAArB,CAAoCF,QAAQ,CAACG,IAAT,CAAcC,IAAlD,EACAC,KAAK,CAAC,sBAAD,CAAL,CACD,CAHD,IAGO,CACLC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACD,CACF,CAVH,EAWGC,KAXH,CAWS,SAACC,KAAD,QAAWH,CAAAA,OAAO,CAACG,KAAR,CAAcA,KAAK,CAACC,OAApB,CAAX,EAXT,EANW,wDAAH,kBAANnB,CAAAA,MAAM,6CAAZ,CAmBA,mBACK,kCACI,aAAK,SAAS,CAAC,WAAf,wBACA,YAAK,SAAS,CAAC,uBAAf,uBACW,uCADX,EADA,cAIO,cAAM,QAAQ,CAAE,kBAACC,CAAD,CAAK,CAACD,MAAM,CAACC,CAAD,CAAN,CAAU,CAAhC,CAAkC,EAAE,CAAC,UAArC,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,QAAtB,CAAgC,QAAQ,CAAE,kBAAAA,CAAC,CAAE,CAACT,YAAY,CAACS,CAAC,CAACmB,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAZ,CAAiC,CAA/E,CAAiF,SAAS,CAAC,YAA3F,CAAwG,IAAI,CAAC,KAA7G,EADJ,cAEI,YAAK,SAAS,CAAC,SAAf,uBACA,oCAEA,gBAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,UAAhC,CAA2C,EAAE,CAAC,SAA9C,gBAA8D5B,SAAS,cAAG,UAAG,SAAS,CAAC,6BAAb,EAAH,CAAkD,EAAzH,eAFA,cAGA,eAAQ,IAAI,CAAE,QAAd,CAAuB,OAAO,CAAEE,OAAhC,CAAyC,SAAS,CAAC,UAAnD,CAA8D,EAAE,CAAC,QAAjE,6BAHA,GADA,EAFJ,cAaI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,UAA1B,CAAsC,SAAS,CAAC,WAAhD,CAA4D,QAAQ,KAApE,CAAqE,EAAE,CAAC,YAAxE,EAbJ,GAJP,GADJ,EADL,CAyBH,CAED,cAAeD,CAAAA,IAAf","sourcesContent":["import React, {useState} from 'react';\nimport './home.css';\nimport axios from 'axios';\n\nfunction Home() {\n    const [inputValue, setInputValue] = useState('') \n    const [inputForm, setInputForm] = useState('') \n    const [isLoading, setLoading] = useState(false)\n\n\n    const linkGen = async () => {\n        let pdfName = localStorage.getItem('synlab-name');\n        setInputValue(`https://rv.synlab-pathcare.com/verify/${pdfName}`)\n        localStorage.removeItem('synlab-name')\n    }\n    const upload = async (e) => {\n       setLoading(true);\n        e.preventDefault();\n        let formData = new FormData();    //formdata object\n        formData.append('pdf', inputForm);   //append the values with key, value pair\n        const headers = { 'content-type': 'multipart/form-data', 'withCredentials': true, }\n        axios\n          .post(\"https://synlab-carepath.herokuapp.com/upload\", formData, { headers: headers})\n          .then((response) => { \n            setLoading(false);\n            if (response.status === 200) {\n              localStorage.setItem('synlab-name', response.data.name);\n              alert('Uploaded Succesfully')\n            } else {\n              console.log(\"Unable to upload file.\");\n            }\n          })\n          .catch((error) => console.error(error.message));\n      };\n    return (\n         <div>\n             <div className=\"container\">\n             <div className=\"text-center pt-5 pb-5\"> \n                        <h1> UPLOAD SECTION</h1>\n                    </div>\n                    <form onSubmit={(e)=>{upload(e)}} id=\"formElem\">   \n                        <input type=\"file\" id=\"myFile\"  onChange={e=>{setInputForm(e.target.files[0]);}} className=\"uploadform\" name=\"pdf\" /> \n                        <div className=\"pad-top\">    \n                        <div> \n                           \n                        <button type=\"submit\" className=\"btn-edit\" id=\"btnEdit\"  >  { isLoading ? <i className=\"fas fa-circle-notch fa-spin\"/> : ''}  Submit </button>\n                        <button type= \"button\" onClick={linkGen} className=\"btn-edit\" id=\"btnGen\"> Generate Link </button>\n                        \n\n                        </div>\n                           \n                        </div>\n                        \n                        <input type=\"text\" value={inputValue} className=\"form-edii\" disabled id=\"genLinkUrl\" />\n                    </form>\n             </div>\n         </div> \n        \n    )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}